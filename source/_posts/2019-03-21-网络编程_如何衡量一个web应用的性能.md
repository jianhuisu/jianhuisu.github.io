---
title : 如何衡量我的应用能承受多大的访问量
tags :
	- 服务器运维与架构
---

## 常见指标

- PV  page view 页面浏览量
- UV  Unique visitor 独立访客 通过客户端的cookies实现。即同一页面，客户端多次点击只计算一次，访问量不累计。
- IP  IP  同一页面，客户端使用同一个IP访问多次只计算一次
- QPS Queries Per Second 缩写 每秒处理查询量   
- 峰值QPS  
- RPS Request Per Second 缩写 每秒处理请求量 ，等效于QPS 
- TPS Transaction Per Second 缩写 每秒处理事务条目数
- 并发量 并发量 = QPS * 平均响应时间

## 如何计算


PV 即 page view，页面浏览量
   用户每一次对网站中的每个页面访问均被记录1次。用户对同一页面的多次刷新，访问量累计。

UV 即 Unique visitor，独立访客
   通过客户端的cookies实现。即同一页面，客户端多次点击只计算一次，访问量不累计。

IP 即 Internet Protocol，本意本是指网络协议，在数据统计这块指通过ip的访问量。
   即同一页面，客户端使用同一个IP访问多次只计算一次，访问量不累计。
TPS 即Transactions Per Second的缩写，每秒处理的事务数目。一个事务是指一个客户机向服务器发送请求然后服务器做出反应的过程。客户机在发送请求时开始计时，收到服务器响应后结束计时，以此来计算使用的时间和完成的事务个数，最终利用这些信息作出的评估分。
QPS 即Queries Per Second的缩写，每秒能处理查询数目。是一台服务器每秒能够相应的查询次数，是对一个特定的查询服务器在规定时间内所处理流量多少的衡量标准。
RPS 即Requests Per Second的缩写，每秒能处理的请求数目。等效于QPS

因特网上，经常用每秒查询率来衡量域名系统服务器的机器的性能，其即为QPS。
对应fetches/sec，即每秒的响应请求数，也即是最大吞吐能力。
计算关系：
QPS = 并发量 / 平均响应时间
并发量 = QPS * 平均响应时间

根据以上计算关系，我们来预估下单日访问量在 1000W 需要多大的QPS来支持：
通常情况下，80% 的访问量集中在 20%的时间，算一下这 1000w pv实际需要机器达到多少qps才能满足，
qps = (1000w * 0.8) / (24 * 3600 * 0.2)
qps = 462.9
根据压力测试的反馈，单台机子的QPS是多少，利用以上结果就可以算出需要几台机器 或 大致推算出需不需要使用缓存配置

方案一： 使用集群服务器 不使用缓存服务器
方案二： 使用集群服务器 同时使用缓存服务器 (推荐)

https://blog.csdn.net/u010098331/article/details/51490242
